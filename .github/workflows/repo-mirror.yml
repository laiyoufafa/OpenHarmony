name: OpenHarmony gitee repos mirror periodic job

on:
  pull_request:
    paths:
    - '.github/workflows/repo-mirror.yml'
    # Runs at every pull requests submitted in master branch 
    branches: [ master ]
  schedule:
    # Runs at 01:00 UTC (9:00 AM Beijing) every day
    - cron:  '0 1 * * *'

jobs:
  build_part1:
    runs-on: ubuntu-latest

    steps:
    
    - name: Remove unnecessary files
      run: |
        sudo rm -rf /usr/share/dotnet
        sudo rm -rf "$AGENT_TOOLSDIRECTORY"

    - name: Mirror the Gitee organization repos to Github.
      uses: Yikun/hub-mirror-action@v1.2
      with:
        src: gitee/openharmony
        dst: github/laiyoufafa
        dst_key: ${{ secrets.GITEE_PRIVATE_KEY }}
        dst_token:  ${{ secrets.HUB_TOKEN }}
        src_account_type: org
        dst_account_type: user
        clone_style: ssh
        force_update: true
        debug: true
        static_list: "aafwk_aafwk_lite,aafwk_standard,ability_ability_base,ability_ability_lite,ability_ability_runtime,ability_dmsfwk,ability_dmsfwk_lite,ability_form_fwk,ability_idl_tool,accessibility,account_os_account,ace_ace_engine,ace_engine_lite,ace_napi,ai_engine,ai_neural_network_runtime,appexecfwk_appexecfwk_lite,appexecfwk_standard,applications_admin_provisioning,applications_app_samples,applications_call,applications_camera,applications_camera_sample_communication,applications_camera_screensaver_app,applications_contacts,applications_contactsdata,applications_contacts_data,applications_filepicker,applications_hap,applications_launcher,applications_mms,applications_notes,applications_permission_manager,applications_photos,applications_sample_camera,applications_sample_wifi_iot,applications_screenlock,applications_screenshot,applications_settings,applications_settings_data,applications_systemui,applications_theme,app_samples,arkcompiler_ets_frontend,arkcompiler_ets_runtime,arkcompiler_runtime_core,arkcompiler_toolchain,arkui_ace_engine,arkui_ace_engine_lite,arkui_napi,arkui_ui_appearance,arkXtest,ark_js_runtime,ark_runtime_core,ark_ts2abc,base_location,build,build_lite,bundlemanager_bundle_framework,bundlemanager_bundle_framework_lite,bundlemanager_bundle_tool,bundlemanager_distributed_bundle_framework,codelabs,commonlibrary_c_utils,commonlibrary_ets_utils,commonlibrary_utils_lite,communication_bluetooth,communication_connected_nfc_tag,communication_dhcp,communication_dsoftbus,communication_ipc,communication_ipc_lite,communication_netmanager_base,communication_netmanager_ext,communication_netmanager_standard,communication_netstack,communication_nfc,communication_sfc_newip,communication_softbus_lite,communication_wifi,communication_wifi_aware,communication_wifi_lite,community,customization_config_policy,customization_enterprise_device_management,developtools_ace-ets2bundle,developtools_ace-js2bundle,developtools_ace_ets2bundle,developtools_ace_js2bundle,developtools_bytrace,developtools_bytrace_standard,developtools_global_resource_tool,developtools_hapsigner,developtools_hdc,developtools_hdc_standard,developtools_hiperf,developtools_integration_verification,developtools_packing_tool,developtools_profiler,developtools_syscap_codec,deviceprofile_device_info_manager,device_bearpi_bearpi_hm_nano,device_board_bearpi,device_board_beken,device_board_chipsea,device_board_fnlink,device_board_goodix,device_board_hihope,device_board_hisilicon,device_board_hpmicro,device_board_isoftstone,device_board_kaihong,device_board_lango,device_board_lockzhiner,device_board_openvalley,device_board_osware,device_board_seed,device_board_talkweb,device_board_telink,device_board_unionman,device_hihope,device_hisilicon_build,device_hisilicon_drivers,device_hisilicon_hardware,device_hisilicon_hi3516dv300,device_hisilicon_hispark_aries,device_hisilicon_hispark_pegasus,device_hisilicon_hispark_taurus,device_hisilicon_modules,device_hisilicon_third_party_ffmpeg,device_hisilicon_third_party_uboot,device_manager,device_profile_core,device_qemu,device_soc_allwinner,device_soc_amlogic,device_soc_asrmicro,device_soc_beken,device_soc_bestechnic,device_soc_chipsea,device_soc_esp,device_soc_goodix,device_soc_hisilicon,device_soc_hpmicro,device_soc_nxp,device_soc_rockchip,device_soc_st,device_soc_telink,device_soc_winnermicro,distributeddatamgr_appdatamgr,distributeddatamgr_datamgr,distributeddatamgr_datamgr_service,distributeddatamgr_data_object,distributeddatamgr_data_share,distributeddatamgr_file,distributeddatamgr_kv_store,distributeddatamgr_objectstore,distributeddatamgr_pasteboard,distributeddatamgr_preferences,distributeddatamgr_relational_store,distributedhardware_device_manager,distributedhardware_distributed_audio,distributedhardware_distributed_camera,distributedhardware_distributed_hardware_fwk,distributedhardware_distributed_input,distributedhardware_distributed_screen,distributedschedule_dms_fwk,distributedschedule_dms_fwk_lite,distributedschedule_safwk,distributedschedule_safwk_lite,distributedschedule_samgr,distributedschedule_samgr_lite,distributed_camera,distributed_hardware_fwk,distributed_screen,distribution,docs,drivers_adapter,drivers_adapter_khdf_linux,drivers_framework,drivers_hdf_core,drivers_interface,drivers_liteos,drivers_peripheral,filemanagement_app_file_service,filemanagement_dfs_service,filemanagement_file_api,filemanagement_storage_service,filemanagement_user_file_service,frame_aware_sched,global_cust_lite,global_i18n,global_i18n_lite,global_i18n_standard,global_resmgr_lite,global_resmgr_standard,global_resource_management,global_resource_management_lite,global_resource_tool,global_timezone,graphic_graphic_2d,graphic_standard,graphic_surface,graphic_ui,graphic_utils,graphic_wms,hiviewdfx_blackbox,hiviewdfx_faultloggerd,hiviewdfx_hiappevent,hiviewdfx_hichecker,hiviewdfx_hicollie,hiviewdfx_hidumper,hiviewdfx_hidumper_lite,hiviewdfx_hievent_lite,hiviewdfx_hilog,hiviewdfx_hilog_lite,hiviewdfx_hisysevent,hiviewdfx_hitrace,hiviewdfx_hiview,hiviewdfx_hiview_lite"

  build_part2: 
      runs-on: ubuntu-latest

      steps:

      - name: Mirror the Gitee organization repos to Github.
        uses: Yikun/hub-mirror-action@v1.2
        with:
          src: gitee/openharmony
          dst: github/laiyoufafa
          dst_key: ${{ secrets.GITEE_PRIVATE_KEY }}
          dst_token:  ${{ secrets.HUB_TOKEN2 }}
          src_account_type: org
          dst_account_type: user
          clone_style: ssh
          force_update: true
          debug: true
          static_list: "inputmethod_imf,interface_sdk-js,iothardware_peripheral,iot_link,js_api_module,js_sys_module,js_util_module,js_worker_module,kernel_common_modules_newip,kernel_linux,kernel_linux_4.19,kernel_linux_5.10,kernel_linux_build,kernel_linux_common_modules,kernel_linux_config,kernel_linux_patches,kernel_liteos_a,kernel_liteos_m,kernel_uniproton,manifest,miscservices_inputmethod,miscservices_pasteboard,miscservices_request,miscservices_screenlock,miscservices_time,miscservices_wallpaper,msdp_device_status,multimedia_audio_framework,multimedia_audio_lite,multimedia_audio_standard,multimedia_av_session,multimedia_camera_framework,multimedia_camera_lite,multimedia_camera_standard,multimedia_histreamer,multimedia_image_framework,multimedia_image_standard,multimedia_medialibrary_standard,multimedia_media_lite,multimedia_media_standard,multimedia_media_utils_lite,multimedia_player_framework,multimedia_utils_lite,multimodalinput_input,napi_generator,neural_network_runtime,notification_ans_standard,notification_ces_standard,notification_common_event_service,notification_distributed_notification_service,notification_eventhandler,ohos_bundles,ostest_wukong,powermgr_battery_lite,powermgr_battery_manager,powermgr_battery_statistics,powermgr_display_manager,powermgr_powermgr_lite,powermgr_power_manager,powermgr_thermal_manager,prebuilts_aosp_libs,prebuilts_lite_sysroot,print_print_fwk,productdefine_common,release-management,repohooks,request_request,resources,resourceschedule_background_task_mgr,resourceschedule_device_usage_statistics,resourceschedule_memmgr,resourceschedule_resource_schedule_service,resourceschedule_work_scheduler,security,security_access_token,security_appverify,security_certificate_manager,security_crypto_framework,security_dataclassification,security_deviceauth,security_device_auth,security_device_security_level,security_huks,security_itrustee_ree_lite,security_permission,security_permission_lite,security_privacy_center,security_selinux,sensors_medical_sensor,sensors_miscdevice,sensors_miscdevice_lite,sensors_sensor,sensors_sensor_lite,sensors_start,signcenter_tool,startup_appspawn,startup_appspawn_lite,startup_bootstrap_lite,startup_hvb,startup_init_lite,startup_syspara_lite,systemabilitymgr_safwk,systemabilitymgr_safwk_lite,systemabilitymgr_samgr,systemabilitymgr_samgr_lite,telephony_call_manager,telephony_cellular_call,telephony_cellular_data,telephony_core_service,telephony_data_storage,telephony_ril_adapter,telephony_sms_mms,telephony_state_registry,telephony_telephony_data,testfwk_arkxtest,testfwk_developer_test,testfwk_xdevice,test_developertest,test_xdevice,theme_screenlock_mgr,theme_wallpaper_mgr,third_party_abseil-cpp,third_party_alsa-lib,third_party_alsa-utils,third_party_benchmark,third_party_boost,third_party_boringssl,third_party_bounds_checking_function,third_party_bpftool,third_party_bzip2,third_party_cares,third_party_cef,third_party_chromium,third_party_cJSON,third_party_cmsis,third_party_cryptsetup,third_party_css-what,third_party_curl,third_party_e2fsprogs,third_party_egl,third_party_ejdb,third_party_elfio,third_party_elfutils,third_party_eudev,third_party_exfat-utils,third_party_exfatprogs,third_party_expat,third_party_f2fs-tools,third_party_FatFs,third_party_ffmpeg,third_party_flatbuffers,third_party_flutter,third_party_FreeBSD,third_party_freetype,third_party_fsck_msdos,third_party_gettext,third_party_giflib,third_party_glfw,third_party_glib,third_party_glslang,third_party_gn,third_party_googletest,third_party_gptfdisk,third_party_grpc,third_party_gstreamer,third_party_harfbuzz,third_party_icu,third_party_iniparser,third_party_iowow,third_party_iptables,third_party_jerryscript,third_party_jinja2,third_party_jsframework,third_party_json,third_party_JSON-C,third_party_jsoncpp,third_party_libabigail,third_party_libbpf,third_party_libcoap,third_party_libdrm,third_party_libevdev,third_party_libexif,third_party_libffi,third_party_libfuse,third_party_libinput,third_party_libjpeg,third_party_libjpeg-turbo,third_party_libnl,third_party_libphonenumber,third_party_libpng,third_party_libpsl,third_party_libsnd,third_party_libsoup,third_party_libunwind,third_party_libusb,third_party_libuuid,third_party_libuv,third_party_libwebsockets,third_party_libxkbcommon,third_party_libxml2,third_party_Linux_Kernel,third_party_littlefs,third_party_lldb-mi,third_party_llvm-project,third_party_ltp,third_party_LVM2,third_party_lwip,third_party_lz4,third_party_markupsafe,third_party_mbedtls,third_party_mesa3d,third_party_mimalloc,third_party_mindspore,third_party_mingw-w64,third_party_minimp3,third_party_minimp4,third_party_miniz,third_party_mksh,third_party_mtdev,third_party_mtd_utils"
          
  build_part3: 
      runs-on: ubuntu-latest

      steps:

      - name: Mirror the Gitee organization repos to Github.
        uses: Yikun/hub-mirror-action@v1.2
        with:
          src: gitee/openharmony
          dst: github/laiyoufafa
          dst_key: ${{ secrets.GITEE_PRIVATE_KEY }}
          dst_token:  ${{ secrets.HUB_TOKEN3 }}
          src_account_type: org
          dst_account_type: user
          clone_style: ssh
          force_update: true
          debug: true
          black_list: "aafwk_aafwk_lite,aafwk_standard,ability_ability_base,ability_ability_lite,ability_ability_runtime,ability_dmsfwk,ability_dmsfwk_lite,ability_form_fwk,ability_idl_tool,accessibility,account_os_account,ace_ace_engine,ace_engine_lite,ace_napi,ai_engine,ai_neural_network_runtime,appexecfwk_appexecfwk_lite,appexecfwk_standard,applications_admin_provisioning,applications_app_samples,applications_call,applications_camera,applications_camera_sample_communication,applications_camera_screensaver_app,applications_contacts,applications_contactsdata,applications_contacts_data,applications_filepicker,applications_hap,applications_launcher,applications_mms,applications_notes,applications_permission_manager,applications_photos,applications_sample_camera,applications_sample_wifi_iot,applications_screenlock,applications_screenshot,applications_settings,applications_settings_data,applications_systemui,applications_theme,app_samples,arkcompiler_ets_frontend,arkcompiler_ets_runtime,arkcompiler_runtime_core,arkcompiler_toolchain,arkui_ace_engine,arkui_ace_engine_lite,arkui_napi,arkui_ui_appearance,arkXtest,ark_js_runtime,ark_runtime_core,ark_ts2abc,base_location,build,build_lite,bundlemanager_bundle_framework,bundlemanager_bundle_framework_lite,bundlemanager_bundle_tool,bundlemanager_distributed_bundle_framework,codelabs,commonlibrary_c_utils,commonlibrary_ets_utils,commonlibrary_utils_lite,communication_bluetooth,communication_connected_nfc_tag,communication_dhcp,communication_dsoftbus,communication_ipc,communication_ipc_lite,communication_netmanager_base,communication_netmanager_ext,communication_netmanager_standard,communication_netstack,communication_nfc,communication_sfc_newip,communication_softbus_lite,communication_wifi,communication_wifi_aware,communication_wifi_lite,community,customization_config_policy,customization_enterprise_device_management,developtools_ace-ets2bundle,developtools_ace-js2bundle,developtools_ace_ets2bundle,developtools_ace_js2bundle,developtools_bytrace,developtools_bytrace_standard,developtools_global_resource_tool,developtools_hapsigner,developtools_hdc,developtools_hdc_standard,developtools_hiperf,developtools_integration_verification,developtools_packing_tool,developtools_profiler,developtools_syscap_codec,deviceprofile_device_info_manager,device_bearpi_bearpi_hm_nano,device_board_bearpi,device_board_beken,device_board_chipsea,device_board_fnlink,device_board_goodix,device_board_hihope,device_board_hisilicon,device_board_hpmicro,device_board_isoftstone,device_board_kaihong,device_board_lango,device_board_lockzhiner,device_board_openvalley,device_board_osware,device_board_seed,device_board_talkweb,device_board_telink,device_board_unionman,device_hihope,device_hisilicon_build,device_hisilicon_drivers,device_hisilicon_hardware,device_hisilicon_hi3516dv300,device_hisilicon_hispark_aries,device_hisilicon_hispark_pegasus,device_hisilicon_hispark_taurus,device_hisilicon_modules,device_hisilicon_third_party_ffmpeg,device_hisilicon_third_party_uboot,device_manager,device_profile_core,device_qemu,device_soc_allwinner,device_soc_amlogic,device_soc_asrmicro,device_soc_beken,device_soc_bestechnic,device_soc_chipsea,device_soc_esp,device_soc_goodix,device_soc_hisilicon,device_soc_hpmicro,device_soc_nxp,device_soc_rockchip,device_soc_st,device_soc_telink,device_soc_winnermicro,distributeddatamgr_appdatamgr,distributeddatamgr_datamgr,distributeddatamgr_datamgr_service,distributeddatamgr_data_object,distributeddatamgr_data_share,distributeddatamgr_file,distributeddatamgr_kv_store,distributeddatamgr_objectstore,distributeddatamgr_pasteboard,distributeddatamgr_preferences,distributeddatamgr_relational_store,distributedhardware_device_manager,distributedhardware_distributed_audio,distributedhardware_distributed_camera,distributedhardware_distributed_hardware_fwk,distributedhardware_distributed_input,distributedhardware_distributed_screen,distributedschedule_dms_fwk,distributedschedule_dms_fwk_lite,distributedschedule_safwk,distributedschedule_safwk_lite,distributedschedule_samgr,distributedschedule_samgr_lite,distributed_camera,distributed_hardware_fwk,distributed_screen,distribution,docs,drivers_adapter,drivers_adapter_khdf_linux,drivers_framework,drivers_hdf_core,drivers_interface,drivers_liteos,drivers_peripheral,filemanagement_app_file_service,filemanagement_dfs_service,filemanagement_file_api,filemanagement_storage_service,filemanagement_user_file_service,frame_aware_sched,global_cust_lite,global_i18n,global_i18n_lite,global_i18n_standard,global_resmgr_lite,global_resmgr_standard,global_resource_management,global_resource_management_lite,global_resource_tool,global_timezone,graphic_graphic_2d,graphic_standard,graphic_surface,graphic_ui,graphic_utils,graphic_wms,hiviewdfx_blackbox,hiviewdfx_faultloggerd,hiviewdfx_hiappevent,hiviewdfx_hichecker,hiviewdfx_hicollie,hiviewdfx_hidumper,hiviewdfx_hidumper_lite,hiviewdfx_hievent_lite,hiviewdfx_hilog,hiviewdfx_hilog_lite,hiviewdfx_hisysevent,hiviewdfx_hitrace,hiviewdfx_hiview,hiviewdfx_hiview_lite,inputmethod_imf,interface_sdk-js,iothardware_peripheral,iot_link,js_api_module,js_sys_module,js_util_module,js_worker_module,kernel_common_modules_newip,kernel_linux,kernel_linux_4.19,kernel_linux_5.10,kernel_linux_build,kernel_linux_common_modules,kernel_linux_config,kernel_linux_patches,kernel_liteos_a,kernel_liteos_m,kernel_uniproton,manifest,miscservices_inputmethod,miscservices_pasteboard,miscservices_request,miscservices_screenlock,miscservices_time,miscservices_wallpaper,msdp_device_status,multimedia_audio_framework,multimedia_audio_lite,multimedia_audio_standard,multimedia_av_session,multimedia_camera_framework,multimedia_camera_lite,multimedia_camera_standard,multimedia_histreamer,multimedia_image_framework,multimedia_image_standard,multimedia_medialibrary_standard,multimedia_media_lite,multimedia_media_standard,multimedia_media_utils_lite,multimedia_player_framework,multimedia_utils_lite,multimodalinput_input,napi_generator,neural_network_runtime,notification_ans_standard,notification_ces_standard,notification_common_event_service,notification_distributed_notification_service,notification_eventhandler,ohos_bundles,ostest_wukong,powermgr_battery_lite,powermgr_battery_manager,powermgr_battery_statistics,powermgr_display_manager,powermgr_powermgr_lite,powermgr_power_manager,powermgr_thermal_manager,prebuilts_aosp_libs,prebuilts_lite_sysroot,print_print_fwk,productdefine_common,release-management,repohooks,request_request,resources,resourceschedule_background_task_mgr,resourceschedule_device_usage_statistics,resourceschedule_memmgr,resourceschedule_resource_schedule_service,resourceschedule_work_scheduler,security,security_access_token,security_appverify,security_certificate_manager,security_crypto_framework,security_dataclassification,security_deviceauth,security_device_auth,security_device_security_level,security_huks,security_itrustee_ree_lite,security_permission,security_permission_lite,security_privacy_center,security_selinux,sensors_medical_sensor,sensors_miscdevice,sensors_miscdevice_lite,sensors_sensor,sensors_sensor_lite,sensors_start,signcenter_tool,startup_appspawn,startup_appspawn_lite,startup_bootstrap_lite,startup_hvb,startup_init_lite,startup_syspara_lite,systemabilitymgr_safwk,systemabilitymgr_safwk_lite,systemabilitymgr_samgr,systemabilitymgr_samgr_lite,telephony_call_manager,telephony_cellular_call,telephony_cellular_data,telephony_core_service,telephony_data_storage,telephony_ril_adapter,telephony_sms_mms,telephony_state_registry,telephony_telephony_data,testfwk_arkxtest,testfwk_developer_test,testfwk_xdevice,test_developertest,test_xdevice,theme_screenlock_mgr,theme_wallpaper_mgr,third_party_abseil-cpp,third_party_alsa-lib,third_party_alsa-utils,third_party_benchmark,third_party_boost,third_party_boringssl,third_party_bounds_checking_function,third_party_bpftool,third_party_bzip2,third_party_cares,third_party_cef,third_party_chromium,third_party_cJSON,third_party_cmsis,third_party_cryptsetup,third_party_css-what,third_party_curl,third_party_e2fsprogs,third_party_egl,third_party_ejdb,third_party_elfio,third_party_elfutils,third_party_eudev,third_party_exfat-utils,third_party_exfatprogs,third_party_expat,third_party_f2fs-tools,third_party_FatFs,third_party_ffmpeg,third_party_flatbuffers,third_party_flutter,third_party_FreeBSD,third_party_freetype,third_party_fsck_msdos,third_party_gettext,third_party_giflib,third_party_glfw,third_party_glib,third_party_glslang,third_party_gn,third_party_googletest,third_party_gptfdisk,third_party_grpc,third_party_gstreamer,third_party_harfbuzz,third_party_icu,third_party_iniparser,third_party_iowow,third_party_iptables,third_party_jerryscript,third_party_jinja2,third_party_jsframework,third_party_json,third_party_JSON-C,third_party_jsoncpp,third_party_libabigail,third_party_libbpf,third_party_libcoap,third_party_libdrm,third_party_libevdev,third_party_libexif,third_party_libffi,third_party_libfuse,third_party_libinput,third_party_libjpeg,third_party_libjpeg-turbo,third_party_libnl,third_party_libphonenumber,third_party_libpng,third_party_libpsl,third_party_libsnd,third_party_libsoup,third_party_libunwind,third_party_libusb,third_party_libuuid,third_party_libuv,third_party_libwebsockets,third_party_libxkbcommon,third_party_libxml2,third_party_Linux_Kernel,third_party_littlefs,third_party_lldb-mi,third_party_llvm-project,third_party_ltp,third_party_LVM2,third_party_lwip,third_party_lz4,third_party_markupsafe,third_party_mbedtls,third_party_mesa3d,third_party_mimalloc,third_party_mindspore,third_party_mingw-w64,third_party_minimp3,third_party_minimp4,third_party_miniz,third_party_mksh,third_party_mtdev,third_party_mtd_utils"
